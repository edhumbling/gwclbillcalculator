<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GWCL Current Bill Calculator</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; }
        h1 { text-align: center; }
        form { display: grid; gap: 10px; }
        label { font-weight: bold; }
        input { padding: 5px; }
        button { padding: 10px; background-color: #4CAF50; color: white; border: none; cursor: pointer; }
        button:hover { background-color: #45a049; }
        #result { margin-top: 20px; border: 1px solid #ddd; padding: 15px; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
        .credit { color: green; }
        .debit { color: red; }
    </style>
    
</head>
<body>
    <h1>GWCL Current Bill Calculator</h1>
    <p>Calculate your current GWCL water bill (Domestic Category 611) based on 2025 Q3 tariffs (effective July-September 2025, 0% adjustment). Rates: First 5 m³ at GHS 5.28176/m³, excess at GHS 9.344558/m³. Includes service charge (GHS 10) and levies (1% Fire Fighting, 2% Rural Water). Readings in thousands of liters (1 unit = 1 m³).</p>
    
    <form id="billForm">
        <label for="prevReading">Previous Reading (in 1000s):</label>
        <input type="number" id="prevReading" value="61" required step="0.001">
        
        <label for="currReading">Current Reading (in 1000s):</label>
        <input type="number" id="currReading" value="63" required step="0.001">
        
        <button type="button" onclick="calculateBill()">Calculate Bill</button>
    </form>
    
    <div id="result"></div>

    <script>
        function calculateBill() {
            const prevReading = parseFloat(document.getElementById('prevReading').value);
            const currReading = parseFloat(document.getElementById('currReading').value);
            
            if (currReading <= prevReading) {
                alert('Current reading must be greater than previous reading.');
                return;
            }
            
            const consumption = currReading - prevReading; // in m³
            
            let waterAmount = 0;
            if (consumption <= 5) {
                waterAmount = consumption * 5.28176;
            } else {
                waterAmount = (5 * 5.28176) + ((consumption - 5) * 9.344558);
            }
            waterAmount = Math.round(waterAmount * 100) / 100;
            
            const fire = Math.round(0.01 * waterAmount * 100) / 100;
            const rural = Math.round(0.02 * waterAmount * 100) / 100;
            const service = 10.00;
            
            const currentCharges = waterAmount + fire + rural + service;
            
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = `
                <h2>Current Bill Details</h2>
                <p>Consumption: ${consumption.toFixed(2)} m³</p>
                <table>
                    <tr><th>Component</th><th>Amount (GHS)</th></tr>
                    <tr><td>Water Amount</td><td>${waterAmount.toFixed(2)}</td></tr>
                    <tr><td>1% Fire Fighting Levy</td><td>${fire.toFixed(2)}</td></tr>
                    <tr><td>2% Rural Water Levy</td><td>${rural.toFixed(2)}</td></tr>
                    <tr><td>Service Charge</td><td>${service.toFixed(2)}</td></tr>
                    <tr><td><strong>Current Charges</strong></td><td><strong>${currentCharges.toFixed(2)}</strong></td></tr>
                </table>
                <p>Note: This is the current charge only. Actual bills include previous balances and payments, which are not calculated here.</p>
            `;
        }
    </script>
</body>
</html>


